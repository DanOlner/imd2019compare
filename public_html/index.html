<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>IMD comparator</title>
        <script type="text/javascript" src="js/d3.js"></script>
        <script type="text/javascript" src="js/d3-scale-chromatic.js"></script>
        <script type="text/javascript" src="js/d3-selection-multi.js"></script>
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/jquery-ui.js"></script>
        <script type="text/javascript" src="js/lodash.js"></script>
        <script type="text/javascript" src="js/bootstrap.bundle.min.js"></script>
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/jquery-ui.css">
    </head>
    <body>
        <div class="wholepage">
            <div id ="interactions">
                <!--                <button class="btn btn-primary btn-sm dropdown-toggle" type="button" data-toggle="dropdown">Examples
                                    <span class="caret"></span></button>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" index = "0" href="#">HTML</a></li>
                                    <li><a class="dropdown-item" index = "1" href="#">CSS</a></li>
                                    <li><a class="dropdown-item" index = "2" href="#">JavaScript</a></li>
                                </ul>-->
                <button class="button buttonselectedtop" value="top">Set top map</button>
                <button class="button" value="bottom">Set bottom map</button>
                <label for="tags">Choose local authority from England map or start typing here then select: </label>
                <input id="tags">

            </div>

            <div class="dropdown">
            </div> 

            <div class = "mapdiv" style = "position: relative;">

                <!--Text box for explanations / story-->
                <div class ="story">
                    <p class = "storytext"><b>Welcome to the England Index of Multiple Deprivation viewer thingyo.</b> 
                        Click on the forward button below to learn how to use it and see some interesting data stories.
                        The <em>examples</em> menu below has all of these items.
                    </p>
                </div>


                <!--https://getbootstrap.com/docs/4.0/components/dropdowns/-->
                <!--                Dropup for selecting story element/example-->
                <div class="dropup absoluteup">
                    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Examples</button>
                    <div class="dropdown-menu">
                        <!--                        <li><a class="dropdown-item" index = "0" href="#">HTML</a></li>
                                                <li><a class="dropdown-item" index = "1" href="#">CSS</a></li>
                                                <li><a class="dropdown-item" index = "2" href="#">JavaScript</a></li>-->
                    </div>
                </div>


                    <button class="absolute" id="yearbutton" value="year">change year</button>
                    <button class="absolute" id="decilerank" value="decilerank">rank/deciles</button>
                    <button class="absolute hexmap" id="hexmap_mean" value="mean">mean</button>
                    <button class="absolute hexmap buttonselected" id="hexmap_median" value="median">median</button>
                    <button class="absolute hexmap" id="hexmap_lowest" value="lowest">lowest</button>
                    <button class="absolute hexmap" id="hexmap_highest" value="highest">highest</button>
                    <button class="absolute" id="difftoggle" value="diff">diff 15-19</button>
                

                <svg class="map" width="1800px" height="1100px">

                <!--Add buttons for story/examples-->
                <g transform = "translate(300,800)">
                <polygon class="arrow" id="backarrow" points="36,0 36,36 0,18" style="stroke:black;stroke-width:2;" />
                </g>
                <g transform = "translate(350,800)">
                <polygon class="arrow" id="forwardarrow" points="0,0 0,36 36,18" style="stroke:black;stroke-width:2;" />
                </g>

                <!--England LAD hexmap and name translate together-->
                <g class="engmap_n_LAname" transform = "translate(0,0)">
                <g class="enghexmap">
                <!--England hexmap paths added here-->
                </g>
                <g class="overlayhexmap">
                <!--England overlay hexmap paths added here-->
                </g>
                <!--Text position relative to map, near top-->
                <text class="svgtxt" id = "year" x ="300" y="100" font-size="70px" fill="black" fill-opacity="0.25" text-anchor="left"></text>
                <!--Text position relative to map, at bottom-->
                <text class="svgtxt" id = "nameofla" x ="130" y="650" font-size="40px" fill="black" fill-opacity="0.5" text-anchor="left"></text>
                </g>


                <!--translate both map and sidebar-->
                <g class="topmapandsidebar" transform = "translate(500,0)">
                <g class="topmap">


                <!--TOP map paths added here-->
                <text class="svgtxt" id = "topmapname" x ="100" y="400" font-size="25px" fill="green" fill-opacity="0.7" text-anchor="left"></text>

                <!--translate sidebar relative to map/sidebar container-->
                <!--9 and 802 to leave a pixel gap around edges-->
                <g id="topsidebar" transform = "translate(590,9)">
                <rect id = "topsidebarrect" width = "35" height = "802"></rect>            
                </g>
                
                <!--To keep from losing original rects-->
                <g id="topsidebar_for_deciles" transform = "translate(590,10)"></g>
                <!--And for keeping percent text on top!-->
                <g id="topsidebar_for_percenttext" transform = "translate(590,10)"></g>

                <!--NOTE! "BOTTOM" SIDEBAR IS ACTUALLY TO THE RIGHT OF THE OTHER SIDE BAR. So position relatively here.-->
                <g id="bottomsidebar" transform = "translate(640,9)">
                <rect id = "bottomsidebarrect" width = "35" height = "802"></rect>      
                
                <!--Then include text saying what sidebar shows. X and Y are reversed when rotating - whole frame is rotated-->
                <text class="svgtxt" x="200" y="-50" transform="rotate(90)" font-size="20px" fill="black" fill-opacity="0.7">< less deprived</text>
                <text class="svgtxt" x="450" y="-50" transform="rotate(90)" font-size="20px" fill="black" fill-opacity="0.7">more deprived ></text>

                </g>
                
                <!--To keep from losing original rects-->
                <g id="bottomsidebar_for_deciles" transform = "translate(640,10)"></g>
                <!--And for keeping percent text on top!-->
                <g id="bottomsidebar_for_percenttext" transform = "translate(640,10)"></g>



                </g>
                </g>


                <g class="bottommapandsidebar" transform = "translate(500,400)">
                <g class="bottommap">


                <!--BOTTOM map paths added here-->
                <text class="svgtxt" id = "bottommapname" x ="100" y="400" font-size="25px" fill="blue" fill-opacity="0.7" text-anchor="left"></text>



                </g>
                </g>

                <!--Get selection appearing drawn over top of map-->
                <g id="topselect" transform = "translate(400,0)"></g>


                </svg>
            </div>
        </div>

        <script type="text/javascript" src="storyguide.js"></script>		        
        <script type="text/javascript" src="main.js"></script>		        
    </body>
</html>